---
title: 及时处理还是非及时处理
keywords: Java 编程
categories: 编程
summary: 编程
author: 连边
date: 2024-09-03
tags:
  - Java

---

在编写业务代码的时候，常规性的是**及时处理**业务逻辑，因为写代码一般是串行的，先做什么事，再做什么事，但是有时候为了业务接耦等原因，也会用到非及时处理的方式，比如常用的多线程，消息队列，定时任务都属于**非及时处理**。

用及时处理，还是非及时处理，应该从哪些方面思考呢？

第一思考方面是**业务**，其次是**扩展性**和**容错性**。

举几个最近遇到业务场景，思考下应该要用什么处理方式。

**场景1：**做用户行为统计功能，设计的系统中有页面基础信息表（页面标题、页面路径）需要维护，前端工程师埋点上报的数据中有页面标题和页面路径，需要每次上报埋点行为数据的时候去判断页面基础信息是否存在，如果不存在则进行补充。这个页面基础信息表应该怎么维护？

**场景2：**根据制成品数量来关闭订单的逻辑，比如某个订单需要制作某个产品（制成品）100件，我应该怎么样控制订单状态？

**场景3：**某应用要接收下游设备频率高且数据量大的实时数据，需要该应用需要保存数据和页面实时显示数据，应该怎么设计？

先从业务出发，想清楚大方向，及时处理还是非及时处理？

然后再去理基于当前的架构中间件，选择方案。



好的架构中，剖析业务是首要任，然后兼顾**扩展性**和**容错性**，后期将会节约很多运营工作和重构工作。