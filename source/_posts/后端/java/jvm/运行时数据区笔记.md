---
title: 运行时数据区笔记
date: 2021-03-16
tags: jvm
categories: jvm
---

# 线程

## Java线程和操作系统线程一对一映射

## 程序计数器（PC计数器）



![image-20210314063117625](http://mkstatic.lianbian.net/image-20210314063117625.png)



### PC寄存器为什么要线程私有？

![image-20210314063725568](http://mkstatic.lianbian.net/image-20210314063725568.png)

### 并行、并发

## 虚拟机栈

java栈的基础单位是栈帧

一个栈帧对应一个java方法

![image-20210314065719850](http://mkstatic.lianbian.net/image-20210314065719850.png)

FILO、LIFO

## 栈中可能出现的异常

![image-20210314070315666](http://mkstatic.lianbian.net/image-20210314070315666.png)

-Xss 设置固定的栈大小



## 栈的储存单位

栈帧：一个方法一个栈帧



### 方法的结束方式分为两种：

1. 正常结束
2. 出现未捕获的异常



## 栈帧的内部结构

每个栈帧储存着：

1. **局部变量表**
2. **操作数栈**
3. 动态链接
4. 方法返回地址
5. 一些附加信息

### 局部变量表（local variables）

1. 数字数组，用于储存局部变量的
2. 无数据安全问题，是建立在线程的栈上，是线程的私有数据
3. 容量在编译期确定下来，就不会更改

### Solt 局部变量表最基本的储存单元

非静态变量：this 放在solt = 0 的位置上

![image-20210315003340370](http://mkstatic.lianbian.net/image-20210315003340370.png)

## 操作数栈

 ## 动态链接

## 方法的调用

### 静态链接、早期绑定

### 动态链接、晚期绑定（虚方法，在编译期间，类型无法确定下来的）

## 虚方法表





